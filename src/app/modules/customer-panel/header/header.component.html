<!-- src/app/modules/customer-panel/header/header.component.html -->
<header class="app-header shadow-lg sticky top-0 z-50" [class.dark]="isDark">
  <div class="header-container">

    <!-- LOGO -->
    <div class="logo-section">
      <img src="assets/logo.png" alt="Rathawahana.lk" class="logo" height="50"
           routerLink="/customer-panel/home" />
      <h1 class="logo-text">Rathawahana.lk</h1>
    </div>

    <!-- DESKTOP SEARCH -->
    <div class="search-bar-desktop">
      <div class="search-input-group">
        <p-autoComplete
          [(ngModel)]="searchQuery"
          [suggestions]="searchSuggestions"
          (completeMethod)="getSearchSuggestions($event)"
          placeholder="Search vehicles, parts..."
          field="name"
          appendTo="body"
          class="w-full"
        />
        <button pButton icon="pi pi-search" class="search-btn" (click)="performSearch()"></button>
      </div>
    </div>

    <!-- DESKTOP NAV -->
    <nav class="nav-desktop">
      <ul class="nav-list">
        <li><a routerLink="/customer-panel/home" routerLinkActive="active">Home</a></li>
        <li><a routerLink="/customer-panel/about-us" routerLinkActive="active">About</a></li>
        <li><a routerLink="/customer-panel/contact-us" routerLinkActive="active">Contact</a></li>
      </ul>
    </nav>

    <!-- RIGHT ACTIONS -->
    <div class="header-actions">
      <!-- Dark Mode -->
      <button pButton icon="pi pi-moon" class="p-button-text p-button-rounded"
              (click)="toggleDarkMode()" [class.pi-sun]="isDark"></button>

      <!-- Post Ad -->
      <button pButton label="Post Ad Free" icon="pi pi-upload" class="post-ad-btn"
              routerLink="/customer-panel/post-vehicle"></button>

      <!-- Avatar Menu -->
      <p-avatar [image]="profileImage" shape="circle" size="large"
                class="avatar cursor-pointer" (click)="userMenu.toggle($event)"></p-avatar>
      <p-menu #userMenu [model]="profileItems" [popup]="true" appendTo="body"></p-menu>

      <!-- Hamburger -->
      <button class="hamburger" (click)="toggleMenu()" [class.active]="menuOpen">
        <span></span><span></span><span></span>
      </button>
    </div>
  </div>

  <!-- MOBILE MENU -->
  <div class="mobile-menu" [class.open]="menuOpen" [class.dark]="isDark">
    <div class="mobile-menu-content">
      <div class="mobile-search">
        <p-autoComplete [(ngModel)]="searchQuery" [suggestions]="searchSuggestions"
          (completeMethod)="getSearchSuggestions($event)" placeholder="Search..."
          class="w-full" appendTo="body" />
        <button pButton icon="pi pi-search" class="ml-2" (click)="performSearch()"></button>
      </div>

      <ul class="mobile-nav-list">
        <li><a routerLink="/customer-panel/home" (click)="closeMenu()" routerLinkActive="active">Home</a></li>
        <li><a routerLink="/customer-panel/about-us" (click)="closeMenu()">About</a></li>
        <li><a routerLink="/customer-panel/contact-us" (click)="closeMenu()">Contact</a></li>
      </ul>

      <div class="mobile-auth">
        <button pButton label="Post Ad Free" class="w-full"
                routerLink="/customer-panel/post-vehicle" (click)="closeMenu()"></button>
      </div>
    </div>
  </div>
</header>