
<!-- HERO – Mobile-First, Screenshot-Perfect -->
<section class="hero-mobile">
  <div class="hero-bg"></div>
  <div class="hero-overlay"></div>

  <div class="hero-content">
    <!-- Top Bar: Logo + Avatar + Hamburger (NOW IN HEADER) -->

    <!-- Title -->
    <h1 class="hero-title">Find Your Perfect Ride in Sri Lanka</h1>
    <p class="hero-subtitle">
      Buy • Sell • Discover Cars, Bikes & Vans |
      <strong class="text-green-400">Post Ad FREE</strong>
    </p>

    <!-- Search Bar -->
    <div class="search-box">
      <p-autoComplete
        [(ngModel)]="searchQuery"
        [suggestions]="searchSuggestions"
        (completeMethod)="searchVehicles($event)"
        placeholder="Search brand, model, or key..."
        field="name"
        appendTo="body"
        (onSelect)="onSearchSelect($event)"
        class="flex-1"
      >
        <ng-template let-item pTemplate="item">
          <div class="flex items-center p-2 hover:bg-gray-50">
            <i [class]="item.icon || 'pi pi-car'" class="mr-2 text-blue-600"></i>
            <span>{{ item.name }}</span>
          </div>
        </ng-template>
      </p-autoComplete>
      <button pButton icon="pi pi-search" class="search-btn" (click)="performSearch()"></button>
    </div>

    <!-- CTA Buttons -->
    <div class="cta-buttons">
      <button pButton label="POST AD FREE" icon="pi pi-plus-circle" class="cta-post" (click)="postVehicle()"></button>
      <button pButton label="Browse All Vehicles" class="cta-browse" routerLink="/customer-panel/home"></button>
    </div>

    <!-- Trust Text -->
    <p class="trust-text">Trusted by <strong>50,000+</strong> buyers & sellers</p>
  </div>
</section>

<!-- CATEGORIES -->
<section class="py-20 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-black">
  <div class="container-wrapper">

    <!-- Section Title -->
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white">
        Explore by Vehicle Type
      </h2>
      <p class="mt-3 text-lg text-gray-600 dark:text-gray-300">
        Find your dream ride in seconds
      </p>
    </div>

    <!-- Category Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6 max-w-7xl mx-auto px-4">
      <div
        *ngFor="let cat of categories"
        class="category-card"
        (click)="filterByCategory(cat.type)"
      >
        <!-- Glass Card -->
        <div class="bg-white/80 dark:bg-white/5 backdrop-blur-xl rounded-3xl 
                    shadow-xl border border-white/20 
                    p-8 flex flex-col items-center justify-center
                    transition-all duration-300 hover:scale-105 hover:shadow-2xl">
          
          <!-- Icon Circle -->
          <div class="w-20 h-20 rounded-full flex items-center justify-center mb-5
                      shadow-lg"
               [style.background-color]="cat.color">
            <i [class]="cat.icon" class="text-4xl text-white"></i>
          </div>

          <!-- Name -->
          <h3 class="font-bold text-lg text-gray-800 dark:text-white">
            {{ cat.name }}
          </h3>

          <!-- Count -->
          <p class="mt-2 text-sm">
            <span class="inline-block px-3 py-1 bg-emerald-500 text-white 
                         font-bold rounded-full text-xs">
              {{ cat.count | number }}
            </span>
            <span class="text-gray-500 dark:text-gray-400 ml-1">ads</span>
          </p>
        </div>
      </div>
    </div>

    <!-- CTA -->
    <div class="text-center mt-16">
      <button pButton label="View All Categories" icon="pi pi-arrow-right" iconPos="right"
              class="p-button-lg p-button-rounded p-button-outlined font-bold
                     border-2 hover:bg-primary hover:text-white transition-all">
      </button>
    </div>
  </div>
</section>

<!-- FEATURED DEALS -->
<section class="section py-16">
  <div class="container-wrapper">
    <div class="flex justify-between items-center mb-8">
      <h2 class="section-title">Featured Deals</h2>
      <button pButton icon="pi pi-arrow-right" label="View More" class="p-button-text" routerLink="/vehicles"></button>
    </div>
    <p-carousel
      [value]="specials"
      [numVisible]="4"
      [numScroll]="1"
      [responsiveOptions]="responsiveOptions"
      class="featured-carousel"
    >
      <ng-template let-vehicle pTemplate="item">
        <app-vehicle-card [vehicle]="vehicle" [isSpecial]="true"></app-vehicle-card>
      </ng-template>
    </p-carousel>
  </div>
</section>

<!-- LATEST VEHICLES -->
<section class="section py-16 bg-gray-50">
  <div class="container-wrapper">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
      <h2 class="section-title">Latest Vehicles</h2>
      <button pButton label="Post Your Ad" icon="pi pi-plus" class="p-button-success" (click)="postVehicle()"></button>
    </div>

    <!-- Filters -->
    <div class="filters-bar bg-white p-5 rounded-2xl shadow-sm mb-8">
      <div class="flex flex-wrap items-center gap-3">
        <p-chip
          *ngFor="let f of activeFilters"
          [label]="f.name"
          removable
          (onRemove)="removeFilter(f)"
          class="chip-filter"
        ></p-chip>

        <p-dropdown
          [options]="priceRanges"
          [(ngModel)]="selectedPrice"
          placeholder="Price Range"
          (onChange)="applyFilter()"
          styleClass="w-full sm:w-48"
        ></p-dropdown>
        <p-dropdown
          [options]="locations"
          [(ngModel)]="selectedLocation"
          placeholder="Location"
          (onChange)="applyFilter()"
          styleClass="w-full sm:w-48"
        ></p-dropdown>
        <button pButton label="Clear" icon="pi pi-times" class="p-button-outlined p-button-sm" (click)="clearFilters()"></button>
      </div>
    </div>

    <!-- Vehicle Grid -->
    <div class="vehicle-grid">
      <div *ngFor="let vehicle of filteredVehicles; trackBy: trackById">
        <app-vehicle-card [vehicle]="vehicle"></app-vehicle-card>
      </div>
      <div *ngIf="loading" class="col-span-full">
        <p-skeleton height="360px" borderRadius="16px"></p-skeleton>
      </div>
    </div>

    <!-- Pagination -->
    <p-paginator
      *ngIf="totalRecords > 12"
      [rows]="12"
      [totalRecords]="totalRecords"
      (onPageChange)="loadPage($event)"
      [showCurrentPageReport]="true"
      class="mt-10"
    ></p-paginator>
  </div>
</section>

<!-- SPARE PARTS -->
<section class="section py-16 bg-gradient-to-r from-indigo-600 to-blue-700 text-white">
  <div class="container-wrapper text-center">
    <h2 class="text-3xl md:text-4xl font-bold mb-4">Spare Parts Store</h2>
    <p class="text-lg mb-6">Genuine parts • Island-wide delivery</p>
    <button pButton label="Shop Now" icon="pi pi-shopping-cart" class="bg-white text-blue-700 font-bold p-button-lg" routerLink="/spare-parts"></button>
  </div>
</section>

<!-- <app-footer></app-footer> -->